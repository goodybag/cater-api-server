{{#extend "page"}}page-analytics page-upcoming{{/extend}}

{{#extend "html-title"}}Upcoming{{/extend}}

{{#extend "body"}}

<div class="container" id="main-container">
  <div class="page-header">
    <ul class="breadcrumbs main-breadcrumbs">
      <li>
        <a href="/admin">Admin Panel</a>
      </li>
      <li>
        Upcoming Orders
      </li>
    </ul>
  </div>
</div>

<div class="upcoming-orders">
  <div class="form-row">
    <div class="form-group form-group-delivery-date" data-icon="gb-icon-calendar">
      <label class="control-label" for="start-date">Start Date</label>
      <input type="text" class="datepicker" id="start-date" name="start-date">
    </div>
    <div class="form-group form-group-delivery-date" data-icon="gb-icon-calendar">
      <label class="control-label" for="end-date">End Date</label>
      <input type="text" class="datepicker" id="end-date" name="end-date">
    </div>
  </div>
  <div class="form-row">
    <div class="form-group form-group-delivery-time" data-icon="gb-icon-time">
      <label class="control-label" for="start-time">Start Time</label>
      <input type="text" class="timepicker" id="start-time" name="start-time" />
    </div>
    <div class="form-group form-group-delivery-time" data-icon="gb-icon-time">
      <label class="control-label" for="end-time">End Time</label>
      <input type="text" class="timepicker" id="end-time" name="end-time" />
    </div>
  </div>
  <div class="form-row">
    <div class="form-group">
      <a class="btn btn-red" href="{{config.baseUrl}}/admin/upcoming">clear</a>
    </div>
  </div>

  <h3 class="filter-message"></h3>

  <table class="table table-upcoming">
    <thead>
      <tr>
        <th><a href="#" class="btn-sort-by" data-sort="id">ID</a></th>
        <th><a href="#" class="btn-sort-by" data-sort="type">Type</a></th>
        <th><a href="#" class="btn-sort-by" data-sort="plan_id">Contracted</a></th>
        <th><a href="#" class="btn-sort-by active" data-sort="datetime">Datetime</a></th>
        <th><a href="#" class="btn-sort-by" data-sort="user">User</a></th>
        <th><a href="#" class="btn-sort-by" data-sort="organization">Organization</a></th>
        <th><a href="#" class="btn-sort-by" data-sort="restaurant">Restaurant</a></th>
        <th><a href="#" class="btn-sort-by" data-sort="location">Location</a></th>
        <th><a href="#" class="btn-sort-by" data-sort="region">Region</a></th>
        <th>Courier Tracking</th>
      </tr>
    </thead>
    <tbody>
      {{> upcoming_rows }}
    </tbody>
  </table>
</div>
{{/extend}}


{{#extend "scripts"}}
<script>
require([
  'app/views/admin/upcoming-orders'
, 'app/collections/orders'
],
function(UpcomingOrdersView, Orders){
  var view = new UpcomingOrdersView({
    el: '.upcoming-orders'
  , endpoint: '/api/upcoming'
  , orders: new Orders({{{json orders}}}, { comparator: 'datetime', ignoreOrderTypeInit: true })
  });
});
</script>
{{/extend}}
