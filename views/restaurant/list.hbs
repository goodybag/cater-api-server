{{#extend "page"}}page-restaurant-list{{/extend}}

{{#extend "body"}}
<div class="restaurant-list-search">
  <div class="search-params">
    {{> restaurant_search_form }}
  </div>
  <div class="search-advanced">
    {{> restaurant_search_advanced }}
  </div>
  <a href="#" class="search-advanced-link section" data-role="collapsible" data-target="search-advanced-content">
    <div class="container">
      <span class="expand-hidden">Hide all search tools <span class="search-advanced-link-icon gb-icon-chevron-down"></span></span>
      <span class="expand-show">Show all search tools <span class="search-advanced-link-icon gb-icon-chevron-down"></span></span>
    </div>
  </a>
</div>

<div class="list-options">
  <div class="container">
    {{> restaurant_list_tags }}
    {{> restaurant_list_sort }}
  </div>
</div>
<div class="restaurant-list">
  <div class="container">
    {{> restaurant_tiles }}
  </div>
</div>
{{/extend}}

{{#extend "scripts"}}
<script>
require( [
  'data/views/sort-view'
, 'data/views/filters-view'
, 'data/views/order-params-view'
, 'data/views/search-view'
, 'app/views/restaurants-list-view'
],
function( sortView, filtersView, orderParamsView, searchView, ListView ){
  var listView = new ListView({
    el: '#main'
  , searchUrl: '/restaurants'
  });
  listView.addFilter(orderParamsView);
  listView.addFilter(sortView);
  listView.addFilter(filtersView);
  listView.addFilter(searchView);
});
</script>
{{/extend}}
